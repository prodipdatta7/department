name: Bug Report
description: File a bug report
title: "[Bug]: "
labels:
  - bug
assignees:
  - octocat

body:
  - type: markdown
    attributes:
      value: |
        ## ðŸž Bug Report
        Please provide the details below. Fields marked with (*) are required.

        ---

  # Preferred assignee (cannot auto-assign, but helps triage)
  - type: dropdown
    id: assignee
    attributes:
      label: Assignee
      options:
        -[ ] Unassigned
        -[ ] prodip-selise
        -[ ] octocat
      default: 0
    validations:
      required: true

  # Priority
  - type: dropdown
    id: priority
    attributes:
      label: Priority (*)
      options:
        - ðŸŸ¢ LOW
        - ðŸŸ  MEDIUM
        - ðŸ”´ HIGH
      default: 0
    validations:
      required: true

  # Environment
  - type: dropdown
    id: environment
    attributes:
      label: Environment (*)
      options:
        -[ ] âšª DEV
        -[ ] ðŸŸ¡ STAGE
        -[ ] ðŸ”´ PRODUCTION
      default: 0
    validations:
      required: true

  # Module/Submodule
  - type: dropdown
    id: module
    attributes:
      label: Module
      description: Select the affected module/submodule.
      options:
        - None
        - Guide
        - Authentication > OAuth
        - Authentication > SSO
        - Payments > Gateway
        - Payments > Invoices
        - Notifications > Email
        - Notifications > SMS
      default: 0
    validations:
      required: true

  # Visual summary (markdown only, shows at top of created issue)
  - type: markdown
    attributes:
      value: |
        ### ðŸ“Œ Summary
        | Field | Value |
        |------:|:------|
        | Priority | **${{ form.priority }}** |
        | Environment | **${{ form.environment }}** |
        | Module | **${{ form.module }}** |
        | Preferred assignee | **${{ form.assignee }}** |

        ---

  # Bug description
  - type: textarea
    id: bug-description
    attributes:
      label: Bug description (*)
      placeholder: What happened? Include error messages and context.
      value: |
        **Current behavior**
        - 

        **Impact**
        - 
    validations:
      required: true

  # Expected behavior
  - type: textarea
    id: expected-behavior
    attributes:
      label: Expected behavior (*)
      placeholder: Describe what you expected to happen.
      value: |
        **Expected**
        - 
    validations:
      required: true

  # Repro steps
  - type: textarea
    id: reproduction-steps
    attributes:
      label: Steps to reproduce (if needed)
      description: Keep it short; use a numbered list.
      value: |
        1. Go to â€¦
        2. Click â€¦
        3. Observe â€¦
    validations:
      required: false

  # Reporter
  - type: input
    id: reporter
    attributes:
      label: Reporter
      placeholder: e.g., @prodipdatta7
    validations:
      required: false

  # Attachments guidance + links
  - type: markdown
    attributes:
      value: |
        **Attachments**
        - Drag & drop screenshots, videos, and logs **after submitting**.
        - Or paste links below.

  - type: textarea
    id: attachments-links
    attributes:
      label: Links to media/logs (optional)
      placeholder: https://â€¦ (Drive, OneDrive, S3, etc.)

  # Additional info
  - type: textarea
    id: additional-info
    attributes:
      label: Additional supporting info (optional)
      placeholder: Build number, commit SHA, feature flags, network conditionsâ€¦

  # Optional sanity checks
  - type: checkboxes
    id: checklist
    attributes:
      label: Quick checks (optional)
      options:
        - label: I reproduced this on the latest build
        - label: I cleared cache and tried again
        - label: I checked similar open issues
